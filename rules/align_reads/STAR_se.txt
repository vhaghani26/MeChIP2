rule align_reads:
	input:
		expand("aligned_reads/{sample}.sam", sample=config["samples"])

rule align_reads_wc:
	input:
		genome = "data/GENOME_PREFIX",
		r = "data/samples/{sample}.fastq.gz"
	output:
		"aligned_reads/{sample}.sam"
	run:
		shell("STAR --runThreadN THREADS --genomeDir {input.genome} --readFilesIn {input.r} "
		"--outFileNamePrefix {wildcards.sample} --outStd SAM > {output}")
		shell("mv {wildcards.sample}Log.* {wildcards.sample}SJ.out.tab aligned_reads/")

